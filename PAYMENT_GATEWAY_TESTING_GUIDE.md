# ุฑุงูููุง ุชุณุช ุฏุฑฺฏุงูโูุง ูพุฑุฏุงุฎุช

## ูุฑุงุญู ุชุณุช

### 1. ุงุฌุฑุง ุงุณฺฉุฑูพุช SQL
ุงุจุชุฏุง ุงุณฺฉุฑูพุช SQL ุฑุง ุฏุฑ Supabase ุงุฌุฑุง ฺฉูุฏ:

```sql
-- ูุงู: supabase/add-payment-gateway-settings.sql
```

ุงู ุงุณฺฉุฑูพุช ุชูุธูุงุช ุฒุฑ ุฑุง ุจู ุฌุฏูู `site_settings` ุงุถุงูู ูโฺฉูุฏ:
- **ุฒุฑูโูพุงู**: ูุนุงูุ Merchant ID ุฎุงูุ ุญุงูุช ุชุณุช
- **ุฒุจุงู**: ูุนุงูุ Merchant ID = 'zibal' (ุจุฑุง ุชุณุช)ุ ุญุงูุช ุชุณุช
- **ฺฉุงุฑุช ุจู ฺฉุงุฑุช**: ูุนุงูุ ุดูุงุฑู ฺฉุงุฑุช ูพุดโูุฑุถ

### 2. ุชุณุช ุบุฑูุนุงู ฺฉุฑุฏู ุฏุฑฺฏุงู

1. ุจู ูพูู ุงุฏูู ุจุฑูุฏ
2. ุงุฒ ููู ุณูุช ฺูพ "ุชูุธูุงุช ุณุงุช" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุฏุณุชู "ุฏุฑฺฏุงูโูุง ูพุฑุฏุงุฎุช" (๐) ุฑุง ุจุงุฒ ฺฉูุฏ
4. ุฏุฑฺฏุงู ุฒุฑูโูพุงู ุฑุง ุบุฑูุนุงู ฺฉูุฏ (ุชฺฉ ุฑุง ุจุฑุฏุงุฑุฏ)
5. ุฏฺฉูู "ุฐุฎุฑู ุชูุธูุงุช" ุฑุง ุจุฒูุฏ

### 3. ุจุฑุฑุณ ูุชุฌู

1. ุจู ูพูู ุฎุฑุฏุงุฑ ุง ูุฑูุดูุฏู ุจุฑูุฏ
2. ุจุฎุด "ฺฉู ูพูู" ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุฏฺฉูู "ุดุงุฑฺ ฺฉู ูพูู" ุฑุง ุจุฒูุฏ
4. **ูุชุฌู ููุฑุฏ ุงูุชุธุงุฑ**: ุฏุฑฺฏุงู ุฒุฑูโูพุงู ูุจุงุฏ ููุงุด ุฏุงุฏู ุดูุฏ
5. ููุท ุฏุฑฺฏุงูโูุง ุฒุจุงู ู ฺฉุงุฑุช ุจู ฺฉุงุฑุช ุจุงุฏ ููุงุด ุฏุงุฏู ุดููุฏ

### 4. ุชุณุช ุฏุฑฺฏุงู ุฒุจุงู

1. ุฏุฑฺฏุงู ุฒุจุงู ุฑุง ุฏุฑ ูพูู ุงุฏูู ูุนุงู ูฺฏู ุฏุงุฑุฏ
2. Merchant ID ุฑุง ุฑู `zibal` ูุฑุงุฑ ุฏูุฏ (ุจุฑุง ุชุณุช)
3. ุฏุฑ ูพูู ุฎุฑุฏุงุฑ/ูุฑูุดูุฏูุ "ุดุงุฑฺ ฺฉู ูพูู" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. ูุจูุบ ุฏูุฎูุงู ูุงุฑุฏ ฺฉูุฏ (ูุซูุง 10000 ุชููุงู)
5. ุฏุฑฺฏุงู ุฒุจุงู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
6. ุฏฺฉูู "ูพุฑุฏุงุฎุช" ุฑุง ุจุฒูุฏ
7. **ูุชุฌู ููุฑุฏ ุงูุชุธุงุฑ**: ุจุงุฏ ุจู ุตูุญู ูพุฑุฏุงุฎุช ุฒุจุงู ููุชูู ุดูุฏ

### 5. ุชุณุช ฺฉุงุฑุช ุจู ฺฉุงุฑุช

1. ุฏุฑ ูพูู ุงุฏููุ ุดูุงุฑู ฺฉุงุฑุช ู ูุงู ุจุงูฺฉ ุฑุง ุชูุธู ฺฉูุฏ
2. ุฏุฑ ูพูู ุฎุฑุฏุงุฑ/ูุฑูุดูุฏูุ "ฺฉุงุฑุช ุจู ฺฉุงุฑุช" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. **ูุชุฌู ููุฑุฏ ุงูุชุธุงุฑ**: ุดูุงุฑู ฺฉุงุฑุช ู ูุงู ุจุงูฺฉ ฺฉู ุฏุฑ ูพูู ุงุฏูู ุชูุธู ฺฉุฑุฏุฏ ุจุงุฏ ููุงุด ุฏุงุฏู ุดูุฏ

## ูฺฉุงุช ููู

### ุชูุธูุงุช ูพุดโูุฑุถ
- ููู ุฏุฑฺฏุงูโูุง ุจู ุตูุฑุช ูพุดโูุฑุถ ูุนุงู ูุณุชูุฏ
- Merchant ID ุฒุจุงู ุฑู `zibal` ุงุณุช (ุจุฑุง ุชุณุช)
- ุจุฑุง ุงุณุชูุงุฏู ูุงูุนุ ุจุงุฏ Merchant ID ูุงูุน ุฑุง ูุงุฑุฏ ฺฉูุฏ

### ุฑูุน ูุดฺฉูุงุช ุงุญุชูุงู

#### ูุดฺฉู: ุฏุฑฺฏุงู ุบุฑูุนุงู ูููุฒ ููุงุด ุฏุงุฏู ูโุดูุฏ
**ุฑุงู ุญู**: 
1. ุตูุญู ุฑุง ุฑูุฑุด ฺฉูุฏ (F5)
2. ฺฉุด ูุฑูุฑฺฏุฑ ุฑุง ูพุงฺฉ ฺฉูุฏ
3. ูุทูุฆู ุดูุฏ ฺฉู ุชูุธูุงุช ุฏุฑ ุฏุชุงุจุณ ุฐุฎุฑู ุดุฏู ุงุณุช

#### ูุดฺฉู: ุฎุทุง import ุฏุฑ zibal.ts
**ุฑุงู ุญู**: ุงู ูุดฺฉู ุญู ุดุฏู ุงุณุช. ูุณุฑ import ุงุฒ `./settings-service` ุจู `../services/settings-service` ุชุบุฑ ุงูุชู ุงุณุช.

#### ูุดฺฉู: ุฎุทุง "ุฏุฑฺฏุงู ุฒุจุงู ุบุฑูุนุงู ุงุณุช"
**ุฑุงู ุญู**:
1. ุจู ูพูู ุงุฏูู ุจุฑูุฏ
2. ูุทูุฆู ุดูุฏ ฺฉู ุฏุฑฺฏุงู ุฒุจุงู ูุนุงู ุงุณุช
3. Merchant ID ุฑุง ุจุฑุฑุณ ฺฉูุฏ (ุจุฑุง ุชุณุช ุจุงุฏ `zibal` ุจุงุดุฏ)

## ุณุงุฎุชุงุฑ ุฏุชุงุจุณ

ุชูุธูุงุช ุฏุฑ ุฌุฏูู `site_settings` ุฐุฎุฑู ูโุดููุฏ:

| setting_key | setting_value | description | category | setting_type |
|------------|---------------|-------------|----------|--------------|
| zarinpal_enabled | true/false | ูุนุงู/ุบุฑูุนุงู ุฒุฑูโูพุงู | payment_gateways | boolean |
| zarinpal_merchant_id | string | Merchant ID | payment_gateways | string |
| zibal_enabled | true/false | ูุนุงู/ุบุฑูุนุงู ุฒุจุงู | payment_gateways | boolean |
| zibal_merchant_id | string | Merchant ID | payment_gateways | string |
| card_to_card_enabled | true/false | ูุนุงู/ุบุฑูุนุงู ฺฉุงุฑุช ุจู ฺฉุงุฑุช | payment_gateways | boolean |
| card_to_card_number | string | ุดูุงุฑู ฺฉุงุฑุช | payment_gateways | string |
| card_to_card_bank_name | string | ูุงู ุจุงูฺฉ | payment_gateways | string |

## ุชุบุฑุงุช ุงูุฌุงู ุดุฏู

### 1. ูุงูโูุง ุชุบุฑ ุงูุชู
- `config/zibal.ts` - ุชูุธูุงุช ุฒุจุงู ุจุง ุฎูุงูุฏู ุงุฒ ุฏุชุงุจุณ
- `services/zibal-service.ts` - ุจุฑุฑุณ ูุนุงู ุจูุฏู ุฏุฑฺฏุงู ูุจู ุงุฒ ุงุฌุงุฏ ูพุฑุฏุงุฎุช
- `services/settings-service.ts` - ุชูุงุจุน ุฎูุงูุฏู ุชูุธูุงุช ุฏุฑฺฏุงูโูุง
- `pages/BuyerDashboard.tsx` - ููุงุด ุฏูุงูฺฉ ุฏุฑฺฏุงูโูุง ุฏุฑ ฺฉู ูพูู ุฎุฑุฏุงุฑ
- `pages/SellerDashboard.tsx` - ููุงุด ุฏูุงูฺฉ ุฏุฑฺฏุงูโูุง ุฏุฑ ฺฉู ูพูู ูุฑูุดูุฏู
- `pages/AdminSettings.tsx` - ูุฏุฑุช ุชูุธูุงุช ุฏุฑฺฏุงูโูุง
- `services/api-supabase.ts` - ุงุถุงูู ุดุฏู export ุจุฑุง supabase

### 2. ูฺฺฏโูุง ุฌุฏุฏ
- โ ูุฏุฑุช ุฏุฑฺฏุงูโูุง ูพุฑุฏุงุฎุช ุงุฒ ูพูู ุงุฏูู
- โ ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ูุฑ ุฏุฑฺฏุงู ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู
- โ ุชูุธู Merchant ID ุจุฑุง ุฒุฑูโูพุงู ู ุฒุจุงู
- โ ุชูุธู ุดูุงุฑู ฺฉุงุฑุช ู ูุงู ุจุงูฺฉ ุจุฑุง ฺฉุงุฑุช ุจู ฺฉุงุฑุช
- โ ููุงุด ุฏูุงูฺฉ ุฏุฑฺฏุงูโูุง ูุนุงู ุฏุฑ ฺฉู ูพูู
- โ ุงูุชุฎุงุจ ุฎูุฏฺฉุงุฑ ุงููู ุฏุฑฺฏุงู ูุนุงู ุจู ุนููุงู ูพุดโูุฑุถ
- โ ุจุฑุฑุณ ูุนุงู ุจูุฏู ุฏุฑฺฏุงู ูุจู ุงุฒ ุงุฌุงุฏ ูพุฑุฏุงุฎุช

### 3. ุฌุฑุงู ฺฉุงุฑ
1. ุงุฏูู ุชูุธูุงุช ุฑุง ุฏุฑ ูพูู ุงุฏูู ุชุบุฑ ูโุฏูุฏ
2. ุชูุธูุงุช ุฏุฑ ุฌุฏูู `site_settings` ุฐุฎุฑู ูโุดูุฏ
3. ููฺฏุงู ุจุงุฒ ุดุฏู ฺฉู ูพููุ ุชูุธูุงุช ุงุฒ ุฏุชุงุจุณ ุฎูุงูุฏู ูโุดูุฏ
4. ููุท ุฏุฑฺฏุงูโูุง ูุนุงู ููุงุด ุฏุงุฏู ูโุดููุฏ
5. ููฺฏุงู ุงุฌุงุฏ ูพุฑุฏุงุฎุชุ ุจุฑุฑุณ ูโุดูุฏ ฺฉู ุฏุฑฺฏุงู ูุนุงู ุจุงุดุฏ
